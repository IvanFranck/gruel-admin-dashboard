---
description: 
globs: src/components/menu/**/*.tsx,src/pages/Menu.tsx
alwaysApply: false
---
---
description: RÃ¨gle Cursor pour la gestion hiÃ©rarchique du menu dans lâ€™admin Gruel Traiteur
globs: ["src/components/menu/**/*.tsx", "src/pages/Menu.tsx"]
alwaysApply: false
---

## ğŸ¯ Objectif

CrÃ©er une interface dâ€™administration permettant la gestion du menu dynamique :

- Organisation en 2 niveaux imbriquÃ©s :
  - **Section** (ex: "Au magasin")
    - **Sous-section** (ex: "Les entrÃ©es (2 plats)")

- Permettre Ã  lâ€™admin :
  - Dâ€™ajouter, modifier, supprimer chaque Ã©lÃ©ment
  - De rÃ©organiser les Ã©lÃ©ments via **drag-and-drop**
  - Dâ€™avoir un retour visuel clair lors du dÃ©placement
  - Dâ€™Ãªtre averti avant toute suppression

---

## ğŸ” Comportements attendus

- **Drag-and-drop** :
  - Utiliser `@dnd-kit/core`
  - Les Ã©lÃ©ments doivent Ãªtre dÃ©plaÃ§ables **Ã  leur niveau** :
    - Sections entre elles
    - Sous-sections au sein dâ€™une section

- **Ajout / modification / suppression** :
  - Utiliser des **modales** ou des **formulaires contextuels**
  - Comportement â€œin-placeâ€ si possible (inline editing)
  - Toujours confirmer la suppression

- **Sauvegarde** :
  - AprÃ¨s chaque action, mettre Ã  jour lâ€™Ã©tat avec Zustand
  - PossibilitÃ© dâ€™afficher un toast de succÃ¨s

---

## ğŸ“ UX/UI

- Design clair, espacÃ© :
- IcÃ´nes dâ€™action :
- Composants repliables (ex : toggle pour cacher/afficher une sous-section)

---

## ğŸ“± Responsive

- Lâ€™affichage en liste verticale (mobile-first)
- Drag-and-drop fonctionnel mÃªme sur mobile ou fallback par boutons â€œMonter / Descendreâ€

---

## ğŸ’¾ Structure des donnÃ©es

```ts
type SousSection = {
  id: string;
  nom: string;
  plats: Plat[];
};

type Section = {
  id: string;
  nom: string;
  sousSections: SousSection[];
};

```
---


## ğŸ§  Conseils pour lâ€™IA

- PrÃ©server lâ€™imbrication et lâ€™ordre dans le rendu
- Isoler la logique de dÃ©placement dans des hooks
- CrÃ©er un composant unique par niveau hiÃ©rarchique
- Toujours prÃ©voir une sauvegarde ou un effet local aprÃ¨s action
