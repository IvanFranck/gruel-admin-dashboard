---
description: 
globs: src/pages/plats/**/*.tsx,src/components/admin/plats/**/*.tsx
alwaysApply: false
---
---
description: RÃ¨gle Cursor pour la gestion des plats dans lâ€™administration Gruel Traiteur
globs: ["src/pages/plats/**/*.tsx", "src/components/admin/plats/**/*.tsx"]
alwaysApply: false
---

## ğŸ¯ Objectif

Permettre Ã  lâ€™admin de :
- Visualiser tous les plats existants
- Rechercher et filtrer les plats par section et sous-section
- Ajouter, modifier, supprimer un plat
- Associer un plat Ã  une sous-section existante
- GÃ©rer lâ€™image du plat (sÃ©lection depuis galerie ou upload)

---

## ğŸ—‚ï¸ FonctionnalitÃ©s attendues

### 1. ğŸ” Recherche et filtres

- Champ de recherche par titre (`input` + icÃ´ne search)
- Filtres par :
  - Section
  - Sous-section
- Dropdown hiÃ©rarchique pour les filtres :
  - Affiche d'abord la section, puis sous-section imbriquÃ©e

### 2. ğŸ“‹ Liste des plats

- Affichage sous forme de cartes :
  - Miniature (image)
  - Titre du plat
  - Prix
  - Sous-section associÃ©e
- Actions disponibles :
  - Modifier
  - Supprimer (avec confirmation)

### 3. ğŸ“ Formulaire de crÃ©ation/Ã©dition

- Champs :
  - **Titre** (obligatoire)
  - **Description** (Ã©diteur simplifiÃ© : textarea stylÃ©e Tailwind ou mini-wysiwyg trÃ¨s light)
  - **SÃ©lection Section/Sous-section** (dropdown imbriquÃ©)
  - **Prix** (champ numÃ©rique avec validation)
  - **Image** :
    - SÃ©lecteur pour choisir dans la galerie existante
    - Ou possibilitÃ© dâ€™uploader une nouvelle image
- Boutons :
  - Sauvegarder
  - Annuler

- Validation :
  - Tous les champs requis sauf image (facultative)
  - Prix : format numÃ©rique uniquement

---

## ğŸ“ UX/UI

- Composants aÃ©rÃ©s
- affichage des plats sous forme de grille avec pagination ou bouton "load more"
- Boutons dâ€™actions discrets (`icon buttons`) pour Ã©diter ou supprimer
- Messages de confirmation avant suppression
- Toasts pour feedback aprÃ¨s ajout/Ã©dition/suppression

---

## ğŸ“± Responsive

- Grille responsive pour lâ€™affichage des plats
- Formulaire sur une colonne en mobile
- Dropdowns utilisables facilement sur petits Ã©crans

---

## ğŸ’¾ Structures de donnÃ©es

```ts
type Plat = {
  id: string;
  titre: string;
  description: string;
  prix: number;
  image?: string; // URL
  sousSectionId: string;
};
```

---

## ğŸ§  Conseils pour lâ€™IA

Utiliser `react-hook-form` pour la gestion du formulaire

Utiliser `zod` pour la validation des champs

GÃ©rer la sÃ©lection de section/sous-section dans un hook 

PrÃ©voir un fallback visuel si aucune image nâ€™est sÃ©lectionnÃ©e

PrÃ©voir un loading state lors du chargement des plats ou filtres